<h1>Maddswack Fantasy Football League</h1>
<h2>2025 Draft Lottery</h2>
@if (loading()) {
<div>Loadingâ€¦</div>
} @if (error()) {
<div style="color: crimson">{{ error() }}</div>
} @if (members().length === 0 && !loading()) {
<div>No members yet.</div>
} @for (m of members(); track m.id) {
<div class="member">
  <strong>{{ m.team_name }}:</strong>
  @if (m.lotto_balls !== null) { {{ m.lotto_balls }} lotto balls }
</div>
}
<div class="controls">
  <button (click)="generateDraftOrder()" [disabled]="running() || loading()">Run Lottery</button>
  <button (click)="reset()" [disabled]="running() || loading()">Reset</button>
</div>

@if (revealedPicks().length) {
  <h3>Draft Order</h3>
    @for (p of revealedPicks(); track p.member.id) {
      <p>
        <strong>Pick {{ p.pickNumber }}:</strong> {{ p.member.team_name }}
        @if (p.member.team_image) {
          <img [src]="p.member.team_image" alt="{{ p.member.team_name }}" width="100" height="100">
        }
      </p>
    }
}
